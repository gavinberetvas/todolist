(()=>{"use strict";const e={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let t;const o=new Uint8Array(16);function n(){if(!t&&(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(o)}const c=[];for(let e=0;e<256;++e)c.push((e+256).toString(16).slice(1));const l=function(t,o,l){if(e.randomUUID&&!o&&!t)return e.randomUUID();const i=(t=t||{}).random||(t.rng||n)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,o){l=l||0;for(let e=0;e<16;++e)o[l+e]=i[e];return o}return function(e,t=0){return(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase()}(i)};let i={all:[],today:[{title:"Today",date:"2023-05-26",description:"description.value",id:"today",complete:!1},{title:"Today",date:"2023-05-25",description:"description.value",id:"today",complete:!1}],tomorrow:[{title:"completed tomorrow",date:"2023-05-27",description:"description.value",id:"tomorrow",complete:!1},{title:"tomorrow",date:"1924-10-18",description:"description.value",id:"tomorrow2",complete:!0}],nextday:[{title:"important completed",date:"1000-07-18",description:"description.value",id:"tomorrwkewe",complete:!0},{title:"tomorrow completed",date:"2024-01-01",description:"description.value",id:"fddf5b8a-95e6-4fba-b703-dbd8f2edb8b6",complete:!0}],newNote:function(e,t){e.preventDefault();const{title:o,date:n,description:c}=e.target.elements,i=l();this[t].push({title:o.value,date:n.value,description:c.value,id:i,complete:!1}),console.log(this),modal.classList.remove("active"),overlay.classList.remove("active")},editNote:function(e,t,o,n){let c=e.getAttribute("data-id"),l={title:`${t}`,date:`${o}`,description:`${n}`,id:c};for(let e in i)if(Array.isArray(i[e])){const t=i[e].findIndex((e=>e.id==c));if(-1!==t){i[e][t]=l;break}}},deleteNote:function(e){let t=e.closest("[data-id]").getAttribute("data-id");for(let e in i)if(Array.isArray(i[e])){const o=i[e].findIndex((e=>e.id==t));if(-1!==o)return void i[e].splice(o,1)}},newProject:function(e){i[e]=[]},getAllObjects:function(){const e=[];for(let t in this)this.hasOwnProperty(t)&&Array.isArray(this[t])&&e.push(...this[t]);return console.log(e),e},saveToLocalStorage:function(){localStorage.setItem("myLibrary",JSON.stringify(this))}},a="all",s="all";function r(){event.target.classList.add("current"),document.querySelectorAll(".directory").forEach((e=>{e!=event.target&&e.classList.remove("current")}))}function d(){document.getElementById("which-directory").innerHTML=s}const u=document.getElementById("overlay");function m(e,t,o,n,c){console.log(c);const l=document.createElement("div"),s=document.createElement("div");s.classList.add("notecontentwrapper"),l.setAttribute("data-id",`${n}`),l.setAttribute("data-project",`${c}`),l.classList.add("card"),l.classList.add(a),console.log(`INDEX: ${a}`),console.log(`NOTEID: ${n}`);const r=document.createElement("div");r.classList.add("title"),r.innerHTML=`${e}`;const d=document.createElement("input");d.classList.add("date"),d.type="date",d.value=`${t}`,d.setAttribute("data-date",`${t}`);const m=document.createElement("div");m.classList.add("description"),m.innerHTML=o,m.style.display="none",r.addEventListener("input",(function(){e=r.innerHTML,console.log(e)})),d.addEventListener("input",(function(){t=d.value,console.log(t)})),m.addEventListener("input",(function(){o=m.innerHTML,console.log(o)})),l.addEventListener("click",(function(a){u.classList.add("active"),l.classList.add("focus"),l.style.zIndex=10,l.style.position="relative",r.contentEditable=!0,d.disabled=!1,m.style.display="",m.contentEditable=!0,g.style.display="",y.style.display="",f.style.display="",u.addEventListener("click",(function(){i.editNote(l,e,t,o,n,c),d.setAttribute("data-date",`${t}`),u.classList.remove("active"),l.style.zIndex=1,l.style.position="relative",l.classList.remove("focus"),m.style.display="none",f.style.display="none",g.style.display="none",y.style.display="none",console.log(i.getAllObjects())}))})),l.setAttribute("data-complete",!1),l.setAttribute("data-important",!1);let p=function(e,t){const o=document.createElement("div");o.classList.add("completedcheckboxwrapper");const n=document.createElement("label");n.setAttribute("for",`completed-checkbox-${e}`);const c=document.createElement("input");c.type="checkbox",c.id=`completed-checkbox-${e}`,c.classList.add("completed-checkbox"),o.appendChild(c),o.appendChild(n);for(let t in i)if(Array.isArray(i[t])){const o=i[t].findIndex((t=>t.id==e));if(-1!==o&&1==i[t][o].complete){c.checked=!0,console.log(i[t][o]);break}}return 1==c.checked&&t.setAttribute("data-complete",!0),c.addEventListener("change",(function(){this.checked?t.setAttribute("data-complete",!0):t.setAttribute("data-complete",!1)})),c.addEventListener("change",(function(){if(this.checked){console.log("CHECKED");for(let t in i)if(Array.isArray(i[t])){const o=i[t].findIndex((t=>t.id==e));if(-1!==o&&0==i[t][o].complete){c.checked=!0,i[t][o].complete=!0,console.log(i[t][o]);break}}}else for(let t in i)if(Array.isArray(i[t])){const o=i[t].findIndex((t=>t.id==e));if(-1!==o&&1==i[t][o].complete){c.checked=!1,i[t][o].complete=!1,console.log(i[t][o]);break}}})),o}(n,l),y=function(e,t){const o=document.createElement("div");o.classList.add("importantcheckboxwrapper");const n=document.createElement("label");n.setAttribute("for",`important-checkbox-${e}`),n.classList.add("checkbox-label");const c=document.createElement("input");c.type="checkbox",c.id=`important-checkbox-${e}`,c.classList.add("important-checkbox"),o.appendChild(c),o.appendChild(n);for(let t in i)if(Array.isArray(i[t])){const o=i[t].findIndex((t=>t.id==e));if(-1!==o&&1==i[t][o].important){c.checked=!0,n.classList.add("checked"),console.log(i[t][o]);break}}return 1==c.checked&&t.setAttribute("data-important",!0),c.addEventListener("change",(function(){this.checked?(n.classList.add("checked"),t.setAttribute("data-important",!0)):(n.classList.remove("checked"),t.setAttribute("data-important",!1))})),c.addEventListener("change",(function(){if(this.checked){console.log("CHECKED");for(let t in i)if(Array.isArray(i[t])){const o=i[t].findIndex((t=>t.id==e));if(-1!==o&&0==i[t][o].important){c.checked=!0,i[t][o].important=!0,console.log(i[t][o]);break}}}else for(let t in i)if(Array.isArray(i[t])){const o=i[t].findIndex((t=>t.id==e));if(-1!==o&&1==i[t][o].important){c.checked=!1,i[t][o].important=!1,console.log(i[t][o]);break}}})),o}(n,l);const f=document.createElement("div");let g=function(){const e=document.createElement("button");e.classList.add("button","rmv");const t=document.createElement("img");return t.setAttribute("src","trash-can-outline.svg"),t.setAttribute("alt","Delete"),t.setAttribute("title","Delete"),e.appendChild(t),e.addEventListener("click",(function(){setTimeout((function(){i.deleteNote(e),u.classList.remove("active"),e.closest(".card").remove(),console.log(i.getAllObjects())}),100)})),e}();return g.style.display="none",y.style.display="none",f.style.display="none",f.classList.add("buttonbox"),s.appendChild(p),s.appendChild(r),s.appendChild(d),f.appendChild(y),f.appendChild(g),l.appendChild(s),l.appendChild(m),l.appendChild(f),l}let p=[];(function(){const e=document.querySelectorAll("[data-modal-target]"),t=document.querySelectorAll("[data-close-button]"),o=document.getElementById("newtask");function n(e){null!=e&&(e.classList.remove("active"),overlay.classList.remove("active"))}e.forEach((e=>{e.addEventListener("click",(()=>{!function(e){null!=e&&(e.classList.add("active"),overlay.classList.add("active"))}(document.querySelector(e.dataset.modalTarget))}))})),overlay.addEventListener("click",(()=>{document.querySelectorAll(".modal.active").forEach((e=>{n(e)}))})),t.forEach((e=>{e.addEventListener("click",(()=>{n(e.closest(".modal"))}))})),o.addEventListener("submit",(e=>{e.preventDefault(),i.newNote(e,a),function(){const e=i[a][i[a].length-1],t=m(e.title,e.date,e.description,e.id,e.projectFilter);document.getElementById("main-content").appendChild(t)}(),localStorage.setItem("myLibrary",JSON.stringify(i))}))})(),document.getElementById("today").addEventListener("click",(function(){a="today",s="Today",function(){let e=new Date,t=e.getFullYear(),o=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0");e=t+"-"+o+"-"+n,console.log(`CURRENT DATE: ${e}`);let c=document.querySelectorAll("[data-date]");console.log(c),c.forEach((function(t){let o=t.getAttribute("data-date");console.log(o);let n=t.closest(".card");console.log(n),n.style.display=o==e?"":"none"}))}(),r(),d(),console.log(a)})),document.getElementById("week").addEventListener("click",(function(){a="tomorrow",s="This Week",function(){let e=new Date;e.setHours(0,0,0,0),document.querySelectorAll("[data-date]").forEach((function(t){let o=new Date(t.getAttribute("data-date"));o.setHours(0,0,0,0);let n=t.closest(".card"),c=Math.abs(o-e),l=Math.floor(c/864e5);n.style.display=l>=0&&l<=6?"":"none"}))}(),r(),d(),console.log(a)})),document.getElementById("important").addEventListener("click",(function(){a="important",s="Important",function(){const e=document.getElementsByClassName("card");console.log(`cards fool: ${e}`);for(let t=0;t<e.length;t++){const o=e[t];let n=o.getAttribute("data-important");"true"===n?n=!0:"false"===n&&(n=!1),console.log(`project attribute fool: ${n}`),o.style.display=1==n?"":"none"}}(),r(),d(),console.log(a)})),document.getElementById("completed").addEventListener("click",(function(){a="completed",s="Completed",function(){const e=document.getElementsByClassName("card");console.log(`cards fool: ${e}`);for(let t=0;t<e.length;t++){const o=e[t];let n=o.getAttribute("data-complete");"true"===n?n=!0:"false"===n&&(n=!1),console.log(`project attribute fool: ${n}`),o.style.display=1==n?"":"none"}}(),r(),d(),console.log(a)})),document.getElementById("all").addEventListener("click",(function(){a="all",s="All Notes",function(){const e=document.getElementsByClassName("card");for(let t=0;t<e.length;t++)e[t].style.display=""}(),r(),d(),console.log(a)})),function(){const e=localStorage.getItem("projectDirectory");console.log(`Wowwwwww: ${e}`);let t=[];if(e){let o=document.querySelector("#projects");t=JSON.parse(e),p=t,t.forEach((e=>{console.log(e);let n=e.key;console.log(`item.key value = ${n}`);let c=document.createElement("div");c.classList.add("directory"),c.dataset.project=`${e.key}`,c.classList.add("projectcard");let l=document.createElement("p");l.contentEditable=!0,l.innerHTML=e.title;const u=document.createElement("img");u.setAttribute("src","trash-can-outline.svg"),u.setAttribute("alt","Delete"),u.setAttribute("title","Delete"),u.classList.add("editProject"),u.dataset.delete=`${e.key}`,u.style.zIndex=2,c.addEventListener("click",(()=>{a=e.key,console.log(l.innerHTML),console.log(`INDEX: ${a}`),s=l.innerHTML,d(),r(),function(e){const t=document.getElementsByClassName("card");console.log(`cards fool: ${t}`),console.log(`testing/project ID fool: ${e}`);for(let o=0;o<t.length;o++){const n=t[o],c=n.getAttribute("data-project");console.log(`project attribute fool: ${c}`),n.style.display=c==e?"":"none"}}(n),l.contentEditable=!0,l.classList.add("activeproject"),l.focus()})),l.addEventListener("blur",(()=>{let t=l.innerHTML;l.classList.remove("activeproject"),l.classList.remove("current"),console.log("Blur event:",t),s=l.innerHTML,d();const o=e.key,n=p.findIndex((e=>e.key===o));-1!==n&&(p[n].title=t),localStorage.setItem("projectDirectory",JSON.stringify(p))})),u.addEventListener("click",(e=>{const o=u.dataset.delete;if(e.stopPropagation(),window.confirm("Are you sure you want to delete this project and all the notes it contains?")){const e=o,t=p.findIndex((t=>t.key===e));-1!==t&&p.splice(t,1),delete i[n],u.closest(".projectcard").remove(),document.querySelectorAll(`[data-project="${o}"]`).forEach((e=>{e.remove()}))}else console.log("delete cancel");console.log(`PROJECTDIR == ${t}`),localStorage.setItem("projectDirectory",JSON.stringify(p))})),c.appendChild(l),c.appendChild(u),o.appendChild(c)}))}}(),document.getElementById("newproject").addEventListener("click",(()=>{const e=l();let t={title:"new project",key:`${e}`};p.push(t),localStorage.setItem("projectDirectory",JSON.stringify(p)),console.log(p),console.log(t),i.newProject(e);let o=document.createElement("div");o.classList.add("directory"),o.dataset.project=`${e}`,o.classList.add("projectcard");let n=document.createElement("p");n.contentEditable=!0,n.innerHTML="New_Project";const c=document.createElement("img");c.setAttribute("src","trash-can-outline.svg"),c.setAttribute("alt","Delete"),c.setAttribute("title","Delete"),c.classList.add("editProject"),c.dataset.delete=`${e}`,c.style.zIndex=2,o.addEventListener("click",(()=>{a=e,console.log(n.innerHTML),console.log(`INDEX: ${a}`),s=n.innerHTML,d(),r(),function(){const e=document.getElementsByClassName("card");for(let t=0;t<e.length;t++){const o=e[t];o.classList.contains(a)?o.style.display="":o.style.display="none"}}(),n.contentEditable=!0,n.classList.add("activeproject"),n.focus()})),n.addEventListener("blur",(()=>{let t=n.innerHTML;n.classList.remove("activeproject"),n.classList.remove("current"),console.log("Blur event:",t);const o=e,c=p.findIndex((e=>e.key===o));-1!==c&&(p[c].title=t),s=n.innerHTML,d(),localStorage.setItem("projectDirectory",JSON.stringify(p))})),c.addEventListener("click",(t=>{const o=c.dataset.delete;t.stopPropagation(),window.confirm("Are you sure you want to delete this project and all the notes it contains?")?(delete i[e],c.closest(".projectcard").remove(),c.dataset.delete=`${e}`,Array.from(document.getElementsByClassName(o)).forEach((e=>{e.remove()}))):console.log("delete cancel")}));let u=document.querySelector("#projects");o.appendChild(n),o.appendChild(c),u.appendChild(o)})),function(){const e=localStorage.getItem("myLibrary");if(console.log(e),e){const t=JSON.parse(e);console.log(t),i.newNote=function(e,t){e.preventDefault();const{title:o,date:n,description:c}=e.target.elements,i=l();let a=t;this[t].push({title:o.value,date:n.value,description:c.value,id:i,projectFilter:a,complete:!1,important:!1}),console.log(this),modal.classList.remove("active"),overlay.classList.remove("active")},i.editNote=function(e,t,o,n){let c=e.getAttribute("data-id"),l=e.getAttribute("data-complete"),a=e.getAttribute("data-important"),s=e.getAttribute("data-project");console.log(`WOW: ${l}`),console.log(`WOWWWEE: ${a}`),"true"===l?l=!0:"false"===l&&(l=!1),"true"===a?a=!0:"false"===a&&(a=!1);let r={title:`${t}`,date:`${o}`,description:`${n}`,id:c,projectFilter:s,complete:l,important:a};for(let e in i)if(Array.isArray(i[e])){const t=i[e].findIndex((e=>e.id==c));if(-1!==t){i[e][t]=r;break}}},i.deleteNote=function(e){let t=e.closest("[data-id]").getAttribute("data-id");for(let e in i)if(Array.isArray(i[e])){const o=i[e].findIndex((e=>e.id==t));if(-1!==o)return void i[e].splice(o,1)}},i.newProject=function(e){i[e]=[]},i.getAllObjects=function(){const e=[];for(let t in this)this.hasOwnProperty(t)&&Array.isArray(this[t])&&e.push(...this[t]);return console.log(e),e},i.saveToLocalStorage=function(){localStorage.setItem("myLibrary",JSON.stringify(this))},Object.assign(i,t)}}(),function(){let e=i.getAllObjects();console.log(i.getAllObjects()),e.forEach((e=>{console.log(e);const t=m(e.title,e.date,e.description,e.id,e.projectFilter);document.getElementById("main-content").appendChild(t)}))}(),window.addEventListener("beforeunload",(function(){i.saveToLocalStorage()}));let y=!1;document.getElementById("icon").addEventListener("click",(()=>{const e=document.getElementById("navbar");0==y?(e.style.transform="translateX(0%)",e.classList.add("active"),y=!0):(e.style.transform="translateX(-100%)",e.classList.remove("active"),y=!1)})),document.addEventListener("click",(e=>{const t=document.getElementById("navbar"),o=document.getElementById("icon");!t.contains(e.target)&&e.target!==o&&y&&(t.style.transform="translateX(-100%)",t.classList.remove("active"),y=!1)}))})();